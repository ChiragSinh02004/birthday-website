<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Celebration ğŸ‰</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header id="hero">
  <h1>ğŸ‰ Happy Birthday ğŸ‚</h1>
  <p>A story made with love, just for you âœ¨</p>
</header>

<!-- Story Progress Dots -->
<div class="story-progress" id="storyProgress"></div>

<!-- Gallery -->
<section class="gallery" id="gallery">
  <!-- 15 Photos -->
  <!-- Replace src with your real images -->
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=1"><div class="caption">Memory 1 ğŸ’«</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=2"><div class="caption">Memory 2 âœ¨</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=3"><div class="caption">Memory 3 ğŸ’–</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=4"><div class="caption">Memory 4 ğŸŒŸ</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=5"><div class="caption">Memory 5 ğŸ˜Š</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=6"><div class="caption">Memory 6 ğŸˆ</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=7"><div class="caption">Memory 7 ğŸ’</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=8"><div class="caption">Memory 8 ğŸŒˆ</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=9"><div class="caption">Memory 9 ğŸ˜„</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=10"><div class="caption">Memory 10 âœ¨</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=11"><div class="caption">Memory 11 ğŸ’•</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=12"><div class="caption">Memory 12 ğŸŒŸ</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=13"><div class="caption">Memory 13 ğŸ˜</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=14"><div class="caption">Memory 14 ğŸŠ</div></div>
  <div class="photo"><img class="story-img" loading="lazy" src="https://via.placeholder.com/300x400?text=15"><div class="caption">Memory 15 ğŸ‰</div></div>
</section>

<!-- Final Screen -->
<section class="final-screen">
  <div class="final-card" id="finalCard">
    <h2>ğŸ‚ Happy Birthday ğŸ‰</h2>
    <p>May your life glow brighter than these memories âœ¨</p>
    <button onclick="launchConfetti(180)">Celebrate ğŸŠ</button>
    <div class="secret-message" id="secretMessage">ğŸ’– You found the secret â€” this was made with love ğŸ’–</div>
  </div>
</section>

<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
</audio>

<script>
/* ================= GPU OPTIMIZED STORY ENGINE ================= */

const gallery = document.getElementById('gallery');
const photos = document.querySelectorAll('.photo');
const imgs = document.querySelectorAll('.story-img');
const music = document.getElementById('bgMusic');
const secret = document.getElementById('secretMessage');
const finalCard = document.getElementById('finalCard');
const progress = document.getElementById('storyProgress');

let index = 0;

/* Progress dots */
photos.forEach((_, i) => {
  const dot = document.createElement('span');
  if (i === 0) dot.classList.add('active');
  progress.appendChild(dot);
});
const dots = progress.querySelectorAll('span');

/* GPU image loading */
imgs.forEach(img => {
  img.style.willChange = 'transform, filter';
  img.complete ? img.classList.add('loaded') : img.onload = () => img.classList.add('loaded');
});

/* Auto play */
function playStory() {
  if (index < photos.length) {
    photos[index].scrollIntoView({ behavior: 'smooth', inline: 'center' });
    dots.forEach(d => d.classList.remove('active'));
    dots[index]?.classList.add('active');
    index++;
    setTimeout(playStory, 3000);
  } else {
    finale();
  }
}
setTimeout(playStory, 1200);

/* Mobile swipe */
let startX = 0;
gallery.addEventListener('touchstart', e => startX = e.touches[0].clientX);
gallery.addEventListener('touchend', e => {
  if (startX - e.changedTouches[0].clientX > 50) playStory();
});

/* Music */
window.onload = () => {
  music.volume = 0.2;
  music.play().catch(()=>{});
};

/* Finale */
function finale() {
  let v = music.volume;
  const fade = setInterval(() => {
    if (v < 1) music.volume = (v += 0.02);
    else clearInterval(fade);
  }, 200);
  launchConfetti(120);
}

/* Confetti (GPU friendly) */
function launchConfetti(n) {
  for (let i = 0; i < n; i++) {
    const c = document.createElement('div');
    c.className = 'confetti';
    c.style.left = Math.random() * 100 + 'vw';
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 6000);
  }
}

/* Easter Egg */
finalCard.onclick = () => {
  secret.classList.add('visible');
  launchConfetti(60);
};
</script>

</body>
</html>
